{{!< default}} <!-- Floating Share Bar (Desktop - Right Side) -->
  <div class="floating-share-bar" id="floatingShare">
    <button class="floating-btn scroll-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})"
      title="Retour en haut">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 19V5M5 12l7-7 7 7" />
      </svg>
      <svg class="progress-ring" viewBox="0 0 36 36">
        <circle class="progress-ring-bg" cx="18" cy="18" r="16" />
        <circle class="progress-ring-circle" id="progressRing" cx="18" cy="18" r="16" />
      </svg>
    </button>
    <a href="https://twitter.com/intent/tweet?text={{encode title}}&url={{url absolute=" true"}}" target="_blank"
      rel="noopener" class="floating-btn" title="Twitter">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
        <path
          d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
      </svg>
    </a>
    <a href="https://www.facebook.com/sharer/sharer.php?u={{url absolute=" true"}}" target="_blank" rel="noopener"
      class="floating-btn" title="Facebook">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
        <path
          d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" />
      </svg>
    </a>
  </div>

  <!-- Mobile Share Bar (Bottom Fixed) -->
  <div class="mobile-share-bar" id="mobileShareBar">
    <a href="https://www.facebook.com/sharer/sharer.php?u={{url absolute=" true"}}" target="_blank" rel="noopener"
      class="mobile-share-btn" title="Facebook">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
        <path
          d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" />
      </svg>
    </a>
    <a href="https://twitter.com/intent/tweet?text={{encode title}}&url={{url absolute=" true"}}" target="_blank"
      rel="noopener" class="mobile-share-btn" title="Twitter">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
        <path
          d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
      </svg>
    </a>
    <button class="mobile-share-btn scroll-top-mobile" onclick="window.scrollTo({top: 0, behavior: 'smooth'})"
      title="Retour en haut">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 19V5M5 12l7-7 7 7" />
      </svg>
      <svg class="progress-ring-mobile" viewBox="0 0 36 36">
        <circle class="progress-ring-mobile-bg" cx="18" cy="18" r="16" />
        <circle class="progress-ring-mobile-circle" id="progressRingMobile" cx="18" cy="18" r="16" />
      </svg>
    </button>
  </div>

  <div class="content-wrapper">
    {{#post}}
    <article class="post-full" id="postContent">

      <header class="post-header">
        <h1 class="post-title">{{title}}</h1>

        <div class="post-meta-line">
          {{#primary_tag}}
          <a href="{{url}}" class="post-tag">{{name}}</a>
          {{/primary_tag}}
          <span class="post-meta-separator">Â·</span>
          <span class="post-date">{{date format="D MMMM YYYY"}}</span>
          <span class="post-meta-separator">Â·</span>
          <span class="post-reading-time">{{reading_time}}</span>
        </div>
      </header>

      {{#if feature_image}}
      <figure class="post-feature-image">
        <img src="{{feature_image}}" alt="{{title}}">
      </figure>
      {{/if}}

      <section class="post-content">
        {{content}}
      </section>

      <footer class="post-footer">
        {{#if tags}}
        <div class="post-tags">
          <span class="tags-label">Tags:</span>
          {{#foreach tags}}
          <a href="{{url}}" class="tag-link">{{name}}</a>
          {{/foreach}}
        </div>
        {{/if}}
      </footer>

    </article>
    {{/post}}
  </div>

  <!-- Related Posts -->
  {{#get "posts" limit="3"}}
  {{#if posts}}
  <div class="related-section">
    <div class="container">
      <section class="related-posts">
        <h3 class="related-title">Autres articles</h3>
        <div class="related-grid">
          {{#foreach posts}}
          <article class="article-card da-card da-card--compact">
            <div class="da-card-corner da-card-corner--tl">
              <svg viewBox="0 0 20 20"><path d="M0 20V0h20" /></svg>
            </div>
            <div class="da-card-corner da-card-corner--br">
              <svg viewBox="0 0 20 20"><path d="M0 20V0h20" /></svg>
            </div>
            
            <div class="da-card-img">
              {{#if feature_image}}
              <img src="{{feature_image}}" alt="{{title}}" loading="lazy">
              {{else}}
              <div style="width:100%;height:100%;background:linear-gradient(135deg, var(--color-bg-secondary) 0%, var(--color-bg-elevated) 100%);display:flex;align-items:center;justify-content:center;">
                <span style="font-family:var(--font-display);font-size:clamp(1rem, 3vw, 1.5rem);color:var(--color-orange);text-shadow:var(--glow-text);">{{#if primary_tag}}{{primary_tag.name}}{{else}}Article{{/if}}</span>
              </div>
              {{/if}}
            </div>
            
            <div class="da-card-body">
              <span class="da-card-tag">
                <span class="da-card-tag-icon">ðŸ’»</span>
                {{#if primary_tag}}{{primary_tag.name}}{{else}}ARTICLE{{/if}}
              </span>
              <h3 class="da-card-title">{{title}}</h3>
              <p class="da-card-excerpt">{{excerpt words="15"}}</p>
              
              <div class="da-card-footer">
                <div class="da-card-meta">
                  <span>{{date format="D MMM YYYY"}}</span>
                </div>
                <span class="da-card-arrow">â†’</span>
              </div>
            </div>
          </article>
          {{/foreach}}
        </div>
      </section>
    </div>
  </div>
  {{/if}}
  {{/get}}

  <script>
    // Reading Progress
    document.addEventListener('DOMContentLoaded', function () {
      const progressBar = document.getElementById('readingProgress');
      const progressRing = document.getElementById('progressRing');
      const progressRingMobile = document.getElementById('progressRingMobile');
      const floatingShare = document.getElementById('floatingShare');
      const mobileShareBar = document.getElementById('mobileShareBar');
      const postContent = document.getElementById('postContent');

      if (!postContent) return;

      const circumference = 2 * Math.PI * 16;

      if (progressRing) {
        progressRing.style.strokeDasharray = circumference;
        progressRing.style.strokeDashoffset = circumference;
      }

      if (progressRingMobile) {
        progressRingMobile.style.strokeDasharray = circumference;
        progressRingMobile.style.strokeDashoffset = circumference;
      }

      function updateProgress() {
        const postRect = postContent.getBoundingClientRect();
        const postTop = postRect.top + window.scrollY;
        const postHeight = postContent.offsetHeight;
        const windowHeight = window.innerHeight;
        const scrollY = window.scrollY;

        const start = postTop - windowHeight;
        const end = postTop + postHeight - windowHeight;
        const progress = Math.min(Math.max((scrollY - start) / (end - start), 0), 1);

        // Update progress bar
        if (progressBar) {
          progressBar.style.width = (progress * 100) + '%';
        }

        // Update circles
        const offset = circumference - (progress * circumference);

        if (progressRing) {
          progressRing.style.strokeDashoffset = offset;
        }

        if (progressRingMobile) {
          progressRingMobile.style.strokeDashoffset = offset;
        }

        // Show/hide floating bar after scrolling
        if (floatingShare) {
          if (scrollY > 300) {
            floatingShare.classList.add('visible');
          } else {
            floatingShare.classList.remove('visible');
          }
        }
      }

      window.addEventListener('scroll', updateProgress);
      updateProgress();
    });
  </script>
